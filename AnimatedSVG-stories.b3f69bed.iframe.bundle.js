"use strict";(self.webpackChunkreact_component_library=self.webpackChunkreact_component_library||[]).push([[61],{"./src/components/AnimatedSVG.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:function(){return Example},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return AnimatedSVG_stories}});var _Example$parameters,_Example$parameters2,_Example$parameters2$,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),AnimatedSVG=function AnimatedSVG(_ref){var containerBackgroundStyle=_ref.containerBackgroundStyle,svgPath=_ref.svgPath,targetElements=_ref.targetElements,_ref$fadeInDuration=_ref.fadeInDuration,fadeInDuration=void 0===_ref$fadeInDuration?".1s":_ref$fadeInDuration,_ref$fadeOutDuration=_ref.fadeOutDuration,fadeOutDuration=void 0===_ref$fadeOutDuration?".1s":_ref$fadeOutDuration,_ref$captionTitle=_ref.captionTitle,captionTitle=void 0===_ref$captionTitle?"Title":_ref$captionTitle,_ref$captionDescripti=_ref.captionDescription,captionDescription=void 0===_ref$captionDescripti?"Descriptive Text":_ref$captionDescripti,captionStyle=_ref.captionStyle,captionTitleStyle=_ref.captionTitleStyle,captionDescriptionStyle=_ref.captionDescriptionStyle,_useState=(0,react.useState)({width:0,height:0}),_useState2=(0,slicedToArray.Z)(_useState,2),containerSize=_useState2[0],setContainerSize=_useState2[1],svgContainerRef=(0,react.useRef)(null),svgRef=(0,react.useRef)(null);return(0,react.useEffect)((function(){var handleResize=function handleResize(){if(svgContainerRef.current){var _svgContainerRef$curr=svgContainerRef.current.getBoundingClientRect(),width=_svgContainerRef$curr.width,height=_svgContainerRef$curr.height;setContainerSize({width:width,height:height})}};return handleResize(),window.addEventListener("resize",handleResize),function(){window.removeEventListener("resize",handleResize)}}),[]),(0,react.useEffect)((function(){svgRef.current&&(svgRef.current.style.width="100%",svgRef.current.style.height="100%")}),[containerSize]),(0,react.useEffect)((function(){var fetchSvg=function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){var response,svgText,elements,fadeElementsIn,fadeElementsOut,startFadeLoop,svgImage;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetch(svgPath);case 3:if((response=_context.sent).ok){_context.next=7;break}return console.error("Failed to fetch SVG:",response.statusText),_context.abrupt("return");case 7:return _context.next=9,response.text();case 9:svgText=_context.sent,svgRef.current.innerHTML=svgText,elements=targetElements.map((function(selector){return svgRef.current.querySelectorAll(selector)})),fadeElementsIn=function fadeElementsIn(){elements.forEach((function(elementList,elementListIndex){elementList.forEach((function(element,elementIndex){var fadeInDelay=parseFloat(fadeInDuration)*elementIndex;element.style.opacity="0",element.style.transition="opacity ".concat(fadeInDuration," ease ").concat(fadeInDelay,"s"),setTimeout((function(){element.style.opacity="1"}),1e3*fadeInDelay)}))}))},fadeElementsOut=function fadeElementsOut(){elements.forEach((function(elementList,elementListIndex){elementList.forEach((function(element,elementIndex){var fadeOutDelay=parseFloat(fadeOutDuration)*elementIndex;element.style.opacity="0",element.style.transition="opacity ".concat(fadeOutDuration," ease ").concat(fadeOutDelay,"s")}))}))},startFadeLoop=function startFadeLoop(){fadeElementsOut(),setTimeout((function(){fadeElementsIn(),setTimeout(startFadeLoop,(fadeInDuration?parseFloat(fadeInDuration):0)*elements.length*1e3)}),(fadeOutDuration?parseFloat(fadeOutDuration):0)*elements.length*1e3)},(svgImage=new Image).onload=function(){startFadeLoop()},svgImage.src=svgPath,_context.next=23;break;case 20:_context.prev=20,_context.t0=_context.catch(0),console.error("Error fetching SVG:",_context.t0);case 23:case"end":return _context.stop()}}),_callee,null,[[0,20]])})));return function fetchSvg(){return _ref2.apply(this,arguments)}}();svgPath?fetchSvg():console.warn("No SVG path provided.")}),[svgPath,targetElements,fadeInDuration,fadeOutDuration]),(0,jsx_runtime.jsxs)("div",{ref:svgContainerRef,style:{background:containerBackgroundStyle,position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,jsx_runtime.jsx)("div",{style:{maxWidth:"100%",maxHeight:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,jsx_runtime.jsx)("div",{ref:svgRef,style:{width:"100%",height:"100%"}})}),(0,jsx_runtime.jsxs)("div",{className:"svg-caption",style:captionStyle,children:[(0,jsx_runtime.jsx)("div",{className:"caption-title",style:captionTitleStyle,children:captionTitle}),(0,jsx_runtime.jsx)("div",{className:"caption-description",style:captionDescriptionStyle,dangerouslySetInnerHTML:{__html:captionDescription}})]})]})},components_AnimatedSVG=AnimatedSVG;try{AnimatedSVG.displayName="AnimatedSVG",AnimatedSVG.__docgenInfo={description:"",displayName:"AnimatedSVG",props:{containerBackgroundStyle:{defaultValue:null,description:"",name:"containerBackgroundStyle",required:!1,type:{name:"string"}},svgPath:{defaultValue:null,description:"",name:"svgPath",required:!0,type:{name:"string"}},targetElements:{defaultValue:null,description:"",name:"targetElements",required:!0,type:{name:"string[]"}},fadeInDuration:{defaultValue:{value:".1s"},description:"",name:"fadeInDuration",required:!1,type:{name:"string"}},fadeOutDuration:{defaultValue:{value:".1s"},description:"",name:"fadeOutDuration",required:!1,type:{name:"string"}},captionTitle:{defaultValue:{value:"Title"},description:"",name:"captionTitle",required:!1,type:{name:"string"}},captionDescription:{defaultValue:{value:"Descriptive Text"},description:"",name:"captionDescription",required:!1,type:{name:"string"}},captionStyle:{defaultValue:null,description:"",name:"captionStyle",required:!1,type:{name:"CSSProperties"}},captionTitleStyle:{defaultValue:null,description:"",name:"captionTitleStyle",required:!1,type:{name:"CSSProperties"}},captionDescriptionStyle:{defaultValue:null,description:"",name:"captionDescriptionStyle",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AnimatedSVG.tsx#AnimatedSVG"]={docgenInfo:AnimatedSVG.__docgenInfo,name:"AnimatedSVG",path:"src/components/AnimatedSVG.tsx#AnimatedSVG"})}catch(__react_docgen_typescript_loader_error){}var AnimatedSVG_stories={title:"Components/AnimatedSVG",component:components_AnimatedSVG},Example=function Template(args){return(0,jsx_runtime.jsx)(components_AnimatedSVG,(0,objectSpread2.Z)({},args))}.bind({});Example.args={containerBackgroundStyle:"#000",svgPath:"https://kratner.github.io/portfolio-site/images/moeba-white.svg",targetElements:["path"],fadeInDuration:".1ms",fadeOutDuration:".1ms",captionStyle:{position:"absolute",left:"15%",bottom:"15%",background:"#000000b5",padding:"1em",borderRadius:"1em",borderStyle:"solid",borderColor:"#ffffffa3",borderWidth:".1em",textShadow:"#000 .1em .1em",fontFamily:"Arial, Helvetica, sans-serif",color:"#fff"},captionTitle:"“Moeba”",captionTitleStyle:{fontWeight:"800",fontSize:"1.5em"},captionDescription:"&copy; Keith Ratner 2023",captionDescriptionStyle:{fontStyle:"italic"}},Example.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Example.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Example$parameters=Example.parameters)||void 0===_Example$parameters?void 0:_Example$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => <AnimatedSVG {...args} />"},null===(_Example$parameters2=Example.parameters)||void 0===_Example$parameters2||null===(_Example$parameters2$=_Example$parameters2.docs)||void 0===_Example$parameters2$?void 0:_Example$parameters2$.source)})});var __namedExportsOrder=["Example"]}}]);